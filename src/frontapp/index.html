<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>gfx performance tests</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
  </head>
  <style>
    body {
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    }

    td {
      padding: 10px;
      background-color: #f3f3f3;
    }
    
  </style>
  <body>
    <div id="app">
      <h2>System information</h2>
      <h3>Native environment</h3>
      <h3>Browser environment</h3>
      <pre>{{getBrowserInfo()}}</pre>
      <h2>Tests</h2>
      <table>
        <thead>
          <th></th>
          <th>ID</th>
          <th>Name</th>
          <th>Engine</th>
          <th>Test</th>
          <th>Launch</th>
        </thead>
          <tr v-for="test in tests">
            <td><input type="checkbox" checked></td>
            <td>{{test.id}}</td>
            <td>{{test.name}}</td>
            <td>{{test.engine}}</td>
            <td><button v-on:click="runTest(test,false)">test</button></td>
            <td><button v-on:click="runTest(test,true)">launch</button></td>
          </tr>
        <tbody>
        </tbody>
      </table>
      <button onclick="runSelectedTests()" id='runTests'>Run tests</button>

      <h3>Options</h3>
      // TODO
      <h2>Results log</h2>
      <button v-on:click="show_json = !show_json">Show JSON</button>
      <table>
        <thead>
          <th>test_id</th>
          <th>Total time</th>
          <th>First frame</th>
          <th>FPS</th>
          <th>CPU Time</th>
          <th>CPU Idle</th>
          <th># janked frames</th>
          <th v-show="show_json">JSON</th>
        </thead>
        <tbody>
          <tr v-for="result in results">
            <td>{{result.test_id}}</td>
            <td>{{result.totalTime}}</td>
            <td>{{result.timeToFirstFrame}}</td>
            <td>{{result.avgFps}}</td>
            <td>{{result.cpuTime}}</td>
            <td>{{result.cpuIdlePerc}}</td>
            <td>{{result.numStutterEvents}}</td>
            <td v-show="show_json"><pre>{{result.json}}</pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <!--<script src="index.js" async defer></script>-->
    <script src="app.bundle.js" async defer></script>
  </body>
</html>